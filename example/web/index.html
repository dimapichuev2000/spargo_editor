<!DOCTYPE html>
<html>
<head>
  <!--
    If you are serving your web app in a path other than the root, change the
    href value below to reflect the base path you are serving from.

    The path provided below has to start and end with a slash "/" in order for
    it to work correctly.

    For more details:
    * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base

    This is a placeholder for base href that will be replaced by the value of
    the `--base-href` argument provided to `flutter build`.
  -->
  <base href="$FLUTTER_BASE_HREF">

  <meta charset="UTF-8">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <meta name="description" content="A new Flutter project.">

  <!-- iOS meta tags & icons -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="example">
  <link rel="apple-touch-icon" href="icons/Icon-192.png">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png"/>

  <title>spargo_editor</title>
  <link rel="manifest" href="manifest.json">
<!-- Quill.js CSS -->
<link href="libs/quill.snow.css" rel="stylesheet">

<style>
  /* Стили для корректной работы Quill редактора с прокруткой */
  [id^="quill-editor-"] {
    display: flex;
    flex-direction: column;
  }
  
  [id^="quill-editor-"] .ql-toolbar {
    flex-shrink: 0;
    border-top-left-radius: 8px;
    border-top-right-radius: 8px;
    border: none !important;
    border-bottom: 1px solid #C4CCD8 !important;
  }
  
  /* Стили для всех кнопок toolbar */
  [id^="quill-editor-"] .ql-toolbar button {
    display: inline-block;
    width: 28px;
    height: 28px;
    padding: 0;
    margin: 0 1px;
    border: none;
    background: transparent;
    cursor: pointer;
  }
  
  [id^="quill-editor-"] .ql-toolbar button:hover {
    background-color: #F3F4F6;
    border-radius: 4px;
  }
  
  [id^="quill-editor-"] .ql-toolbar button.ql-active {
    background-color: #E5E7EB;
    border-radius: 4px;
  }
  
  /* Убеждаемся, что SVG иконки видны */
  [id^="quill-editor-"] .ql-toolbar button svg {
    display: block;
    width: 18px;
    height: 18px;
    margin: 0 auto;
  }
  
  /* Стили для кнопок отступов */
  [id^="quill-editor-"] .ql-toolbar .ql-indent,
  [id^="quill-editor-"] .ql-toolbar .ql-outdent {
    display: inline-block;
    width: 28px;
    height: 28px;
  }
  
  /* Стили для групп элементов */
  [id^="quill-editor-"] .ql-toolbar .ql-formats {
    margin-right: 4px;
    display: inline-flex;
    align-items: center;
  }
  
  [id^="quill-editor-"] .ql-container {
    flex: 1;
    overflow-y: auto;
    border-bottom-left-radius: 8px;
    border-bottom-right-radius: 8px;
    border: none !important;
  }
  
  [id^="quill-editor-"] .ql-editor {
    min-height: 100%;
    padding: 12px 15px;
  }
</style>
</head>
<body>
  <script src="flutter_bootstrap.js" async></script>
</body>
<script src="libs/quill.js"></script>
<script>
  window.addEventListener('load', function() {
    if (typeof Quill !== 'undefined') {
      window.createQuillEditor = function(container, options) {
        const editor = new Quill(container, options);
        
        // Включаем проверку орфографии на русском языке
        const editorElement = editor.root;
        editorElement.setAttribute('spellcheck', 'true');
        editorElement.setAttribute('lang', 'ru');
        editorElement.spellcheck = true;
        
        return editor;
      };
      window.quillReady = true;
    }
  });
</script>
</html>
