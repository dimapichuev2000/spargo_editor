<!DOCTYPE html>
<html>
<head>
  <!--
    If you are serving your web app in a path other than the root, change the
    href value below to reflect the base path you are serving from.

    The path provided below has to start and end with a slash "/" in order for
    it to work correctly.

    For more details:
    * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base

    This is a placeholder for base href that will be replaced by the value of
    the `--base-href` argument provided to `flutter build`.
  -->
  <base href="$FLUTTER_BASE_HREF">

  <meta charset="UTF-8">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <meta name="description" content="A new Flutter project.">

  <!-- iOS meta tags & icons -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="example">
  <link rel="apple-touch-icon" href="icons/Icon-192.png">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png"/>

  <title>spargo_editor</title>
  <link rel="manifest" href="manifest.json">
<!-- Quill.js CSS -->
<link href="libs/quill.snow.css" rel="stylesheet">

<style>
  /* Стили для корректной работы Quill редактора с прокруткой */
  [id^="quill-editor-"] {
    display: flex;
    flex-direction: column;
  }
  
  [id^="quill-editor-"] .ql-toolbar {
    flex-shrink: 0;
    border-top-left-radius: 8px;
    border-top-right-radius: 8px;
    border: none !important;
    border-bottom: 1px solid #C4CCD8 !important;
  }
  
  /* Стили для кнопок toolbar */
  [id^="quill-editor-"] .ql-toolbar button {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 28px !important;
    height: 28px !important;
    padding: 0 !important;
    margin: 0 1px !important;
    border: 0 !important;
    border-radius: 4px !important;
    background: transparent !important;
    cursor: pointer !important;
    transition: background-color 0.15s ease !important;
  }
  
  [id^="quill-editor-"] .ql-toolbar button:hover {
    background-color: #F3F4F6 !important;
  }
  
  [id^="quill-editor-"] .ql-toolbar button.ql-active {
    background-color: #E5E7EB !important;
  }
  
  [id^="quill-editor-"] .ql-toolbar button:focus {
    outline: none !important;
  }
  
  /* SVG иконки */
  [id^="quill-editor-"] .ql-toolbar button svg {
    width: 18px !important;
    height: 18px !important;
    flex-shrink: 0 !important;
  }
  
  /* Выпадающие списки (заголовки) */
  [id^="quill-editor-"] .ql-toolbar .ql-picker-label {
    border: 0 !important;
    border-radius: 4px !important;
    padding-left: 8px !important;
    padding-right: 20px !important;
    height: 28px !important;
    line-height: 28px !important;
    transition: background-color 0.15s ease !important;
  }
  
  [id^="quill-editor-"] .ql-toolbar .ql-picker-label:hover {
    background-color: #F3F4F6 !important;
  }
  
  [id^="quill-editor-"] .ql-toolbar .ql-picker.ql-expanded .ql-picker-label {
    background-color: #E5E7EB !important;
  }
  
  /* Кнопка выбора цвета */
  [id^="quill-editor-"] .ql-toolbar .ql-color-picker {
    width: 28px !important;
    height: 28px !important;
    display: inline-flex !important;
    align-items: center !important;
    vertical-align: middle !important;
    position: relative !important;
    top: 2px !important;
  }
  
  [id^="quill-editor-"] .ql-toolbar .ql-color-picker .ql-picker-label {
    padding: 2px 4px !important;
    width: 28px !important;
    height: 28px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }
  
  [id^="quill-editor-"] .ql-toolbar .ql-color-picker .ql-picker-label svg {
    margin: 0 auto !important;
  }
  
  /* Выпадающая панель с цветами */
  [id^="quill-editor-"] .ql-toolbar .ql-color-picker.ql-expanded .ql-picker-options {
    display: block !important;
    position: absolute !important;
    z-index: 1000 !important;
    background-color: white !important;
    border: 1px solid #C4CCD8 !important;
    border-radius: 4px !important;
    padding: 8px !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
    margin-top: 3px !important;
  }
  
  [id^="quill-editor-"] .ql-toolbar .ql-color-picker .ql-picker-options {
    display: none;
  }
  
  [id^="quill-editor-"] .ql-toolbar .ql-color-picker .ql-picker-item {
    border-radius: 2px !important;
    cursor: pointer !important;
    transition: border 0.1s ease !important;
  }
  
  [id^="quill-editor-"] .ql-toolbar .ql-color-picker .ql-picker-item:hover {
    border: 2px solid #06c !important;
  }
  
  /* Стили для кнопок отступов */
  [id^="quill-editor-"] .ql-toolbar .ql-indent,
  [id^="quill-editor-"] .ql-toolbar .ql-outdent {
    display: inline-block;
    width: 28px;
    height: 28px;
  }
  
  /* Стили для групп элементов */
  [id^="quill-editor-"] .ql-toolbar .ql-formats {
    margin-right: 4px;
    display: inline-flex;
    align-items: center;
  }
  
  [id^="quill-editor-"] .ql-container {
    flex: 1;
    overflow-y: auto;
    border-bottom-left-radius: 8px;
    border-bottom-right-radius: 8px;
    border: none !important;
  }
  
  [id^="quill-editor-"] .ql-editor {
    min-height: 100%;
    padding: 12px 15px;
  }
</style>
</head>
<body>
  <script src="flutter_bootstrap.js" async></script>
</body>
<script src="libs/quill.js"></script>
<script>
  window.addEventListener('load', function() {
    if (typeof Quill !== 'undefined') {
      window.createQuillEditor = function(container, options) {
        const editor = new Quill(container, options);
        
        // Включаем проверку орфографии на русском языке
        const editorElement = editor.root;
        editorElement.setAttribute('spellcheck', 'true');
        editorElement.setAttribute('lang', 'ru');
        editorElement.spellcheck = true;
        
        return editor;
      };
      window.quillReady = true;
    }
  });
</script>
</html>
